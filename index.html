<!doctype html>
<html lang="en" ng-app="taskApp">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Angular TaskBoard</title>
    <link href="//netdna.bootstrapcdn.com/bootswatch/latest/darkly/bootstrap.min.css" rel="stylesheet"><!-- includes normalize.css v3.0.0 -->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
    <!--
    <link href="//ajax.aspnetcdn.com/ajax/jquery.ui/1.10.4/themes/redmond/jquery-ui.css" rel="stylesheet">
    -->
    <link href="/css/app.css" rel="stylesheet">
</head>
<body ng-controller="TaskListCtrl">
    <div class="container-fluid">
        <div class="row" style="margin-bottom:10px;">
            <div class="col-md-2">
                <div class="btn-toolbar" role="toolbar">
                    <div class="btn-group">
                        <button type="button" class="btn btn-default" title="Add new Category" ng-click="addCategory()"><i class="fa fa-plus fa-lg"></i></button>
                        <button id="save" type="button" class="btn btn-default" title="Save changes to this Collection" ng-click="saveChanges()"><i class="fa fa-save fa-lg"></i></button>
                        <button id="trash" type="button" class="btn btn-default" title="Drop Category or Item here to Delete" ng-click="emptyTrash()"><i class="fa fa-trash-o fa-lg"></i></button>
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" ng-model="collections">
                            {{collections.current}} <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu" ng-model="collections">
                            <li ng-repeat="collection in collections.list">
                                <a ng-click="changeCollection(collection)">{{collection}}</a>
                            </li>
                            <li class="divider"></li>
                            <li><a href="#">Add a new Collection</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2">
                <div class="bs-component">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title">TRASH</h3>
                        </div>
                        <div class="panel-body">
                            <ul class="list-group connectedSortableTask" ui-sortable="sortableTaskOptions" ng-model="trash">
                                <li id="task_{{task.id}}" class="list-group-item" ng-repeat="task in trash">
                                    <i class="fa fa-arrows" style="margin-right:3px;"></i>
                                    <b>{{task.name}}</b> {{task.details}}<br/>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="connectedSortableCategory" ui-sortable="sortableCategoryOptions" ng-model="categories" style="position:relative; top:0; left:0;"><!-- position so that dragging to the right doesn't show at top of page -->
                <div id="category_{{category.id}}" class="col-md-2" ng-repeat="category in categories">
                    <div class="bs-component">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <a href="#" class="glyph-link glyph-link-move" title="Move Category"><i class="fa fa-arrows"></i></a>
                                <h3 class="panel-title">{{category.name}}</h3>
                                <a href="#" class="glyph-link" title="Add Task" ng-click="addTask(category)"><i class="fa fa-plus fa-lg"></i></a>
                                <a href="#" class="glyph-link" title="Edit Category Name" ng-click="editCategoryName(category)"><i class="fa fa-pencil-square-o"></i></a>
                            </div>
                            <div class="panel-body">
                                <ul class="list-group connectedSortableTask" ui-sortable="sortableTaskOptions" ng-model="category.tasks">
                                    <li id="task_{{task.id}}" class="list-group-item" ng-repeat="task in category.tasks">
                                        <i class="fa fa-arrows" style="margin-right:3px;"></i>
                                        <b>{{task.name}}</b> {{task.details}}<br/>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!--<div class="col-md-2" style="display: none;">HACK: so we can drag items to the end of the previous col-md-2</div>-->
            </div>
        </div>
    </div>
    <script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.0.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js"></script>
    <script src="//ajax.aspnetcdn.com/ajax/jquery.ui/1.10.4/jquery-ui.min.js"></script>
    <script src="/js/uuid4.js"></script>
    <script src="/js/sortable.js"></script>
    <script src="/js/controllers.js"></script>
</body>
</html>
